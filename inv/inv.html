<!DOCTYPE html>
<!--
	TioX a set of Animations for Operations Management
    Copyright (C) 2020  Gregory Dobson
	gregory.c.dobson@gmail.com

    GPL-3.0-or-later
	This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->				
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="../res/tiox3.png">

	<!-- my CSS  -->
	<link rel="stylesheet" type="text/css" href="../res/tiox.css">

	<!--software for random number generation-->
	<script src='../res/jstat.min.js'></script>

	<!-- converts Math.random() to be seeded    -->
	<script src='../res/seedrandom.min.js'></script>

	<!--  my JavaScript -->
	<script>
		var anim = {};
		var simu = {};
		simu.nameOfSimulation = 'inv';
		//name for .json for preset file and key for local Storage

	</script>

	<script type='module' src='../modules/rhs.js'></script>
	<script type='module' src='./inv.js'></script>

</head>

<body>
	<div id="containerOuter">

		<!-- two modes either Export when next div is showing above the rest
			 or regular mode when everything else is showing					-->
		<div id='exportBoxOuter' style='display:none'>
			<div id="exportPresetsBox" style="display:block">
				<h2 style='margin:20px'>Export Options</h2>
				<p> 1) Copy the URL below and use it to access the animation. </p>
				
				<p class="blueBox" id="urlDisplay"></p>
				<p class="belowBlueBox"><button onclick="simu.copyToClipboard('urlDisplay')">Copy to Clipboard</button><label for="allowEditButton">
					<input type="checkbox" id="allowEditButton" value="allowEditButton">
					<span>Allow Edit</span></label></p>
				<br>
				
				<p> 2) Copy the text below into a file, say 'presets.json', and place it on a server and add ?file=http://...your server.../presets.json to the search portion of url to access the animation. </p>
				<p class="blueBox" id="jsonDisplay"></p>
				<p class="belowBlueBox"><button onclick="simu.copyToClipboard('jsonDisplay')">Copy to Clipboard</button></p>
				<br>
				<button id="closeExportBox" onclick=" document.getElementById('exportBoxOuter').style='display:none'; "> X </button>
			</div>
		</div>
		<div id="containerInner">
			<div id="leftHandSideBox">
				<div id="stageWrapper">
					<!--start ANIMATION Stage -->
					<canvas class="theStage" id="foreground" width=1000 height=300>
					</canvas>
					<canvas class="theStage" id="background" width=1000 height=300>
					</canvas>
				</div>
				<!--end ANIMATION Stage -->
				<div id='statsWrapper'>
					<div class='statDisplay'>
						Lost Sales: <span id="lostSales"></span>
					</div>
					<div class='statDisplay'>
						Fill Rate: <span id="fillRate"></span>%
					</div>
					<div class='statDisplay'>
						Service Level: <span id="serviceLevel"></span>%
					</div>
				</div>
				<div id="chartWrapper55" class="chart-container">
					<div id='chartTitle' ></div>
					<canvas id="chart" width='2000' height='600'></canvas>
					<div id='chartLegend'>
					
					<div class='legitem' id='legend0'>legend text 0</div>
					<div class='legitem' id='legend1'>legend text 1</div>
					<div class='legitem' id='legend2'>legend text 2</div>
					</div>
				</div>
			</div>
			<!-- end of leftHandSide-->

			<!--  5 sliders.  Each stores the final value when user mouseup in 'nameMouseUP' <span></span> -->

			<div id="rightHandSideBox">


				<div id="sliderBigBox">
					<div id='ropupto'>
						<div>Rule for Orders:</div>
						<div>
							<input type="radio" name="which" id="methRop" value="methRop" checked>
							<label for="methRop"> Reorder Point</label>
						</div>
						<div>
							<input type="radio" name="which" id="methUpto" value="methUpto">
							<label for="methUpto">Order up to</label>
						</div>
					</div>

					<div class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Arrival Rate =
								<span id="arDisplay">5</span></p>
							<input id="ar" type="range" min="1" max="9" step="1" value="5" class="slider">
							<div class='spreadValues'>
								<span>1</span>
								<span>3</span>
								<span>5</span>
								<span>7</span>
								<span>9</span>
							</div>
						</div>


						<div class="sliderboxRight sliderbox">
							<p>Arrival CV =
								<span id="acvDisplay">0.0</span></p>
							<input id="acv" type="range" min="0" max="2" step="0.5" value="0.0" class="slider">
							<div class='spreadValues'>
								<span>0.0</span>
								<span>1.0</span>
								<span>2.0</span>
							</div>
						</div>
					</div>

					<div class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Lead Time =
								<span id="ltDisplay">3</span></p>
							<input id="lt" type="range" min="2" max="8" step="1" value="3" class="slider">
							<div class='spreadValues'>
								<span>2</span>
								<span>5</span>
								<span>8</span>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Lead Time CV =
								<span id="ltcvDisplay">0.0</span></p>
							<input id="ltcv" type="range" min="0" max="2" step="0.5" value="0.0" class="slider">
							<div class='spreadValues'>
								<span>0.0</span>
								<span>1.0</span>
								<span>2.0</span>
							</div>
						</div>
					</div>


					<div id="modelRop" class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Order Quantity =
								<span id="quanDisplay">24</span></p>
							<input id="quan" type="range" min="2" max="50" step="2" value="24" class="slider">
							<div class='spreadValues'>
								<span>0</span>
								<span>25</span>
								<span>50</span>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Reorder Point =
								<span id="ropDisplay">10</span></p>
							<input id="rop" type="range" min="5" max="85" step="1" value="10" class="slider">
							<div class='spreadValues'>
								<span>5</span>
								<span>25</span>
								<span>45</span>
								<span>65</span>
								<span>85</span>
							</div>
						</div>
					</div>

					<div id="modelUpto" class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Period =
								<span id="periodDisplay">3</span></p>
							<input id="period" type="range" min="2" max="8" step="1" value="3" class="slider">
							<div class='spreadValues'>
								<span>2</span>
								<span>5</span>
								<span>8</span>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Up to Quantity =
								<span id="uptoDisplay">36</span></p>
							<input id="upto" type="range" min="10" max="90" step="1" value="36" class="slider">
							<div class='spreadValues'>
								<span>10</span>
								<span>30</span>
								<span>50</span>
								<span>70</span>
								<span>90</span>
							</div>
						</div>
					</div>

					<!-- two states either non-edit mode or edit mode
						 in the first the play/pause and reset buttons show
 						 in the second the Action buttons are displayed     -->
					<div class="sliderRow">
						<div class="sliderboxLeft" id="playButtons">
							<div id='pauseButton'  style="display:none">
							<i class="material-icons font35vw" 
							   title="pause the animation">pause_circle_outline</i>
							</div>
							<div id='playButton'  style="display:inline">
							<i class="material-icons font35vw" 
							   title="play the animation">play_circle_outline</i>
							</div>
							<div id='resetButton'>
							<i class="material-icons font35vw"
							   title ="reset the animation">replay</i>
							</div>
						</div>

						<div class="sliderboxLeft actionBox" id="actionOptions">
							<div>Action:</div>
							<div>
								<div class="radiopair">
									<label for="none"> 
										<input type="radio" name="action" id="none" value="none" checked>
									None</label>
								</div>

								<div class="radiopair">
									<label for="pause">
										<input type="radio" name="action" id="pause" value="pause">
									Pause</label>
								</div>

								<div class="radiopair">
									<label for="play">
										<input type="radio" name="action" id="play" value="play">
									Play</label>
								</div>
							</div>

							<div class="radiopair">
								<label for="reset">
									<input type="checkbox" id="reset" value="reset"> Reset </label>
							</div>
						</div>


						<div class="sliderboxRight sliderbox">
							<p>Speed =
								<span id="speedDisplay">1</span>x</p>
							<input id="speed" type="range" min="0" max="4" step="1" value="0" class="slider">
							<div class='spreadValues'>
								<span>slow</span>
								<span>fast</span>
							</div>
						</div>
					</div>
				</div>
				<!-- end of SliderBigBox -->

				<!-- scenario boxes: Top, Mid of various sizes, Bot for +/- buttons-->
				<div id="scenarios">
					<div id="scenariosTop">Scenarios</div>
					<div id="scenariosMid12">
						<ul id="ULPresetList"></ul>
					</div>
					<div style="display:none" id="scenariosBot">
						<i id="addButton" class="material-icons font15vw">
							add</i>
						<i id="deleteButton" class="material-icons font15vw">
							remove</i>
					</div>
				</div>

				<!-- edit buttons at bottom of RHS-->
				<div id="editBox">
					<button id='editButton' 
					title="add, delete, edit, or export scenarios" >Edit</button>			
				</div>
				<div id="menuBox" style='display:none'>
					<button id='cancelButton'>Cancel </button>
					<button id='saveButton' 
					title="save scenarios to local storage" >Save </button>
					<button id='exportButton' 
					title="options for exporting scenarios" >Export </button>
					<button id='clear' onclick='localStorage.clear();'
					title="clear local storage">
						Clear</button>
				</div>
			</div>
			<!-- end of righthandSideBox -->
		</div>
		<!-- end of containerInner-->
	</div>
	<!-- end of containerOuter -->
</body>

</html>
