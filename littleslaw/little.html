<!--
	TioX a set of Animations for Operations Management
    Copyright (C) 2020  Gregory Dobson
	gregory.c.dobson@gmail.com

    GPL-3.0-or-later
	This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->		

<!DOCTYPE html>

<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="../res/tiox3.png" type="image/x-icon" />

	<!-- my CSS  -->
	<link rel="stylesheet" type="text/css" href="../res/tiox.css" />

	<!--software for random number generation-->
	<script src='../res/jstat.min.js'></script>

	<!-- converts Math.random() to be seeded    -->
	<script src='../res/seedrandom.min.js'></script>

	<!--  my JavaScript -->
	<script>
		var anim = {};
		var simu = {};
		simu.nameOfSimulation = 'little'; //name for .json for preset file and key for local Storage

	</script>

	<script type='module' src='../modules/rhs.js'></script>
	<script type='module' src='./little.js'></script>

</head>

<body>




	<div id="containerOuter">

		<div id='exportBoxOuter' style='display:none'>
			<div id="exportPresetsBox" style="display:block">
				<h2 style='margin:20px'>Export Options</h2>
				<p> 1) Copy the URL below and use it to access the animation.</p>
				<p class="blueBox" id="urlDisplay"></p>
				<p class="belowBlueBox"><button onclick="simu.copyToClipboard('urlDisplay')">Copy to Clipboard</button><label for="allowEditButton">
					<input type="checkbox" id="allowEditButton" value="allowEditButton">
					<span>Allow Edit</span></label></p>
				<br>
				
				<p> 2) Copy the text below into a file, say 'presets.json', and place it on a server and add ?file=http://...your server.../presets.json to the search portion of url to access the animation. </p>
				<p class="blueBox" id="jsonDisplay"></p>
				<p class="belowBlueBox"><button onclick="simu.copyToClipboard('jsonDisplay')">Copy to Clipboard</button></p>
				<br>
				<button id="closeExportBox" onclick=" document.getElementById('exportBoxOuter').style='display:none'; "> X </button>
			</div>
		</div>
		<div id="containerInner">
			<div id="leftHandSideBox">
				<div id="stageWrapper">
					<!--start ANIMATION Stage -->
					<canvas class="theStage" id="foreground" width=1000 height=300>
					</canvas>
					<canvas class="theStage" id="background" width=1000 height=300>
					</canvas>
				</div>
				<!--end ANIMATION Stage -->
				<div id="chartWrapper" class="chart-container">
					<div id='chartTitle' ></div>
					<canvas id="chart" width='2000' height='600'></canvas>
					<div id='chartLegend'>
					
					<div class='legitem' id='legend0'>legend text 0   </div>
					<div class='legitem' id='legend1'>legend text 1   </div>
					<div class='legitem' id='legend2'>legend text 2</div>
					</div>
				</div>
			</div>
			<!-- end of leftHandSide-->

			<!--  5 sliders.  Each stores the final value when user mouseup in 'nameMouseUP' <span></span> -->

			<div id="rightHandSideBox">

				<div id="sliderBigBox">
					<div class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Arrival Rate =
								<span id="arDisplay">1.0</span></p>
							<input id="ar" type="range" min="1" max="6" step="1" value="1.0" class="slider">
							<div class='spreadValues'>
								<span>1</span>
								<span>2</span>
								<span>3</span>
								<span>4</span>
								<span>5</span>
								<span>6</span>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Arrival CV =
								<span id="acvDisplay">1.0</span></p>
							<input id="acv" type="range" min="0" max="2" step="0.5" value="0.0" class="slider">
							<div class='spreadValues'>
								<span>0.0</span>
								<span>1.0</span>
								<span>2.0</span>
							</div>
						</div>
					</div>
					<div class="sliderRow">
						<div class="sliderboxLeft sliderbox">
							<p>Service Time =
								<span id="srDisplay">5</span></p>
							<input id="sr" type="range" min="5" max="25" step="1" value="5" class="slider">
							<div class='spreadValues'>
								<span>5</span>
								<span>15</span>
								<span>25</span>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Service Time CV =
								<span id="scvDisplay">1.0</span></p>
							<input id="scv" type="range" min="0" max="2" step="0.5" value="0.0" class="slider">
							<div class='spreadValues'>
								<span>0.0</span>
								<span>1.0</span>
								<span>2.0</span>
							</div>
						</div>
					</div>
					<div class="sliderRow">
					  <div class="sliderboxLeft rowAroundEnd" id="playButtons">
							<div id='pauseButton'  style="display:none">
							<i class="material-icons font35vw" 
							   title="pause the animation">pause_circle_outline</i>
							</div>
							<div id='playButton'  style="display:inline">
							<i class="material-icons font35vw" 
							   title="play the animation">play_circle_outline</i>
							</div>
							<div id='resetButton'>
							<i class="material-icons font35vw"
							   title ="reset the animation">replay</i>
							</div>
						</div>
						
						<div class="sliderboxLeft rowAroundCenter" id="actionOptions" style="display:none">
							<div class="columnAroundStart">
							<label>Action:</label>
							<label><input type="checkbox" id="reset">Reset</label>
							</div>
							
							<div class="columnAroundStart">
							<label><input type="radio" name="action" id="none" value="none" checked>None</label>
							<label><input type="radio" name="action" id="pause" value="pause">Pause</label>
							<label><input type="radio" name="action" id="play" value="play">Play</label>
							</div>
						</div>

						<div class="sliderboxRight sliderbox">
							<p>Speed =
								<span id="speedDisplay">1</span>x</p>
							<input id="speed" type="range" min="0" max="4" step="1" value="0" class="slider">
							<div class='spreadValues'>
								<span>slow</span>
								<span>fast</span>
							</div>
						</div>
					</div>

				</div>
				<!-- end of SliderBigBox -->


				<div id="scenarios">
					<div id="scenariosTop">Scenarios</div>
					<div id="scenariosMid">
						<ul id="ULPresetList"></ul>
					</div>
					<div style="display:none" id="scenariosBot">
						<i id="addButton" class="material-icons font15vw">
							add</i>
						<i id="deleteButton" class="material-icons font15vw">
							remove</i>
					</div>
				</div>





				<div id="editBox">
					<button id='editButton' 
					title="add, delete, edit, or export scenarios" >Edit</button>
				</div>
				<div id="menuBox" style='display:none'>
					<button id='cancelButton'>Cancel </button>
					<button id='saveButton' 
					title="save scenarios to local storage" >Save </button>
					<button id='exportButton' 
					title="options for exporting scenarios" >Export </button>
					<button id='clear' onclick='localStorage.clear();'
					title="clear local storage" 
					>Clear</button>
				</div>
			</div>
			<!-- end of righthandSideBox -->
		</div>
		<!-- end of containerInner-->
	</div>
	<!-- end of containerOuter -->
</body>

</html>
